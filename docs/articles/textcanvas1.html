<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Text Canvases 1: Basics &amp; SRR • FDBeye</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Text Canvases 1: Basics &amp; SRR">
<meta property="og:description" content="FDBeye">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FDBeye</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.21.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/InterestAreas1.html">Interest Areas for Text Stimuli</a>
    </li>
    <li>
      <a href="../articles/InterestAreas2.html">Interest Areas for Data Analysis</a>
    </li>
    <li>
      <a href="../articles/textcanvas1.html">Text Canvases 1: Basics &amp; SRR</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/davebraze/FDBeye/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="textcanvas1_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Text Canvases 1: Basics &amp; SRR</h1>
                        <h4 data-toc-skip class="author">Dave Braze &amp; Jenna Duclos</h4>
            
            <h4 data-toc-skip class="date">October 25, 2016</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/davebraze/FDBeye/blob/HEAD/vignettes/textcanvas1.Rmd" class="external-link"><code>vignettes/textcanvas1.Rmd</code></a></small>
      <div class="hidden name"><code>textcanvas1.Rmd</code></div>

    </div>

    
    
<p>In our terminology, a <strong><em>text canvas</em></strong> is a bitmap image of text, formatted as it might appear on a printed page. See Figure 1. A <strong><em>text canvas</em></strong> is the kind of stimulus used in an experiment where participants’ eye movements are recorded while they read from a computer monitor.</p>
<p>We typically generate <strong><em>text canvas</em></strong> stimuli for an experiment offline, and then provide those to whatever experiment control software will be used for data acquisition. For us, most often that’s SRR <em>Experiment Builder</em>. This offline approach to stimulus construction gives us complete control over the appearance of the visual stimuli, and lets us use pixel-identical stimuli on different computers, or with different experiment control software (e.g., <em>Experiment Builder</em>, <em>E-Prime</em>, <em>Presentation</em>).</p>
<div class="figure">
<img src="../../../../../../../../Users/daveb/AppData/Local/Temp/RtmpqwNiZ4/temp_libpathf3064531073/FDBeye/extdata/trial87.png" style="width:100.0%" alt=""><p class="caption"><strong>Figure 1: A text canvas.</strong></p>
</div>
<p>An offline approach to building text canvases also lets us use our own tools for creating and modifying regions of interest (aka interest areas). These ROIs are used for the purpose of summarizing gaze behavior over a text. The most natural unit for regions of interest is that they correspond to the individual words of a text. But it is often the case that mapping gaze data onto multi-word regions that correspond to larger syntactic or semantic constituents is also useful. The tools provided by, e.g., <em>Experiment Builder</em> for redefining ROIs are tedious to use and not very intuitive. Ours are better.</p>
<p><em>Experiment Builder</em> (and presumably other experiment control software) can also create <strong><em>text canvases</em></strong> internally, from plain text (ascii or unicode) provided to them. <em>Experiment Builder</em> will do so only if the IMAGE_RESOURCE used to display the text in an <em>EB</em> project has its <em>Prebuild to Image</em> property checked. In that case, the text canvases will be saved to the <code>/runtime/images/</code> subfolder within the project as PNG bitmaps. Unfortunately, these are given rather cryptic file names, like <code>-6812265288292522003.png</code>.</p>
<p>You can determine which of these PNG files was used in which trial, by looking at a set of <em>EB</em> generated text files located in the <code>/runtime/dataviewer/[EDF filename]/graphics/</code> subfolder of the project. These files will have a vcl extension and the filenames include numbers that correspond to trial numbers (e.g., <code>VC\_1.vcl</code>, <code>VC\_2.vcl</code>). The content of a file will look something like this:</p>
<pre><code>0 IMGLOAD TOP_LEFT  ../../runtime/images/-6812265288292522003.png 0 0 1024 768</code></pre>
<p>The name of the PNG file that corresponds to the <strong><em>text canvas</em></strong> used for the particular trial is clearly specified. A simple R script to extract this information will not be too hard to construct. (Of course, you could also copy the information out by hand….)</p>
<p>Alternately, you may be able to extract this information from an <em>Experiment Builder</em> project using SRR <em>Data Viewer</em> software.</p>
<ol style="list-style-type: decimal">
<li>First go to Edit -&gt; Preferences -&gt; Data Filters and make sure that “Include Display Command Messages” is checked.</li>
<li>Then go to Analysis -&gt; Reports -&gt; Message Report and generate a Message Report. Include the variables RECORDING_SESSION_LABEL and TRIAL_INDEX to identify the trial number. Also include the variable CURRENT_MSG_TEXT – this will contain the IMGLOAD messages that point to the image file names.</li>
</ol>
<p>Note, if an IMAGE_RESOURCE in an <em>Experiment Builder</em> project did not have its <em>Prebuild to Image</em> property checked then it will not create these types of image files. So, it is good practice to always check the Prebuild property for the critical Image screen in sentence or passage reading experiments (or any type of experiment, for that matter). Then, when <em>EB</em> builds a bitmap from text provided in a Data Source, the bitmap will be saved to a PNG file. <strong><em>That way you will have a pixel-identical record of the stimulus seen by the subject.</em></strong></p>
<p>A typical <em>Experiment Builder</em> project will use information contained in Data Source columns linked to a sequence which handles the trial looping of your <em>EB</em> project. Before deploying a project from <em>EB</em>, you should always select <em>all</em> of your Data Source columns and VARIABLE nodes as EyeLink <em>Data Viewer</em> variables.</p>
<ol style="list-style-type: decimal">
<li>In the <em>Structure Panel</em> select the top most item in the hierarchy (the EB project name).</li>
<li>Then in the window below select the EyeLink DV Variables property -&gt; Select all the variables -&gt; Click Add</li>
</ol>
<p>All these values will be written to the EyeLink data file (*edf file) every time the system stops recording (i.e., at the end of each trial). These Variables can then be accessed via <em>Data Viewer</em>, or extracted from an ASCII data file built with the SRR edf2asc utility.</p>
<p>In case you didn’t include the Data Source column name as an EyeLink DV Variable, you will still have a record of the values used on each trial for each subject. Each subject’s results folder will contain a .dat file. This is a tab-delimited text file that has the values of the Data Source column values that were used on each trial. So, you can recover the name of the original text used on each trial from the subject’s .dat file.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Braze, Tao Gong, Monica Li, Jenna Duclos.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
